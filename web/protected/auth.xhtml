<?xml version='1.0' encoding='ISO-8859-1' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">
    <h:head>
        <title>IGNORED</title>
    </h:head>
    <h:body>
        <ui:composition template ="./resources/masterLayout.xhtml">
            <ui:define name="content">
                <h:form>
                    <p>
                        <h:outputText value="#{lang.NoWork}" 
                                      rendered="#{not workoutBean.dataExist}"/>
                    </p>     
                    <h:dataTable value ="#{workoutBean.tableData}" var="oneWorkout"
                                 styleClass="people" headerClass="hode"  
                                 rowClasses="odd,even" footerClass="fot"
                                 rendered="#{workoutBean.dataExist}">
                        <!-- Kolonne: dato -->
                        <h:column>
                            <f:facet name="header">
                                <h:commandLink action ="#{workoutBean.sortByDate()}">
                                    <h:outputText value="#{lang.Date}"/>
                                </h:commandLink>
                            </f:facet>
                            <h:inputText value="#{oneWorkout.workout.date}" 
                                         rendered="#{oneWorkout.change}"
                                         styleClass="venstrejustert">
                                <f:convertDateTime pattern="dd.MM.yyyy"/>
                            </h:inputText>
                            <h:outputText value="#{oneWorkout.workout.date}"  
                                          rendered="#{not oneWorkout.change}" >
                                <f:convertDateTime pattern="dd.MM.yyyy"/>
                            </h:outputText>
                        </h:column>
                        <!-- Kolonne: kategori -->
                        <h:column>
                            <f:facet name="header">
                                <h:commandLink action ="#{workoutBean.sortByCategory()}">
                                    <h:outputText value="#{lang.Category}"/>
                                </h:commandLink>

                            </f:facet>
                            <h:selectOneMenu value ="#{workoutBean.tempWorkout.category}" rendered="#{workout.change}">
                                <f:selectItem  itemValue ="#{lang.Jogging}"/>
                                <f:selectItem  itemValue ="#{lang.Strength}" />
                                <f:selectItem  itemValue ="#{lang.Aerobics}"/>
                                <f:selectItem  itemValue ="#{lang.Biking}" />
                            </h:selectOneMenu>
                            <h:outputText value="#{oneWorkout.workout.category}" rendered="#{not oneWorkout.change}" />
                        </h:column>
                        <!-- Kolonne: beskrivelse -->
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="#{lang.Text}"/>
                            </f:facet>
                            <h:inputText value="#{oneWorkout.workout.text}"
                                         rendered="#{oneWorkout.change}"
                                         styleClass="hoyrejustert" 
                                         maxlength="30"/>
                            <h:outputText value="#{oneWorkout.workout.text}" rendered="#{not oneWorkout.change}" />

                        </h:column>
                        <!-- Kolonne: varighet -->
                        <h:column>
                            <f:facet name="header">
                                <h:commandLink action ="#{workoutBean.sortByDuration()}">
                                <h:outputText value="#{lang.Duration}"/>
                                </h:commandLink>
                            </f:facet>
                            <h:inputText value="#{oneWorkout.workout.duration}" 
                                         rendered="#{oneWorkout.change}"
                                         styleClass="hoyrejustert">
                            </h:inputText>
                            <h:outputText value="#{oneWorkout.workout.duration}" rendered="#{not oneWorkout.change}" />
                            <f:facet name="footer">  
                                <h:outputText value="#{workoutBean.averageDuration}" />
                            </f:facet>
                        </h:column>

                        <!-- Kolonne: eventuell sletting -->
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="#{lang.Delete}"/>
                            </f:facet>
                            <h:selectBooleanCheckbox value="#{oneWorkout.delete}"/>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="&#160;" />
                                <h:outputText value="#{lang.Change}"/>
                            </f:facet>
                            <h:commandButton value="#{lang.Change}" action="#{oneWorkout.change()}" rendered="#{not oneWorkout.change}"/>
                        </h:column>
                    </h:dataTable>
                    <!-- For bruk ved implementering av databasen-->
                    <br></br>
                    <!--
                    <h:inputText value = "#{workoutBean.workouts.user}" styleClass = "overskrift"/>
                    -->

                    <!-- Registrere ny transaksjon  -->
                    <br></br>
                    <h:outputText value="#{lang.NewWork}" styleClass ="overskrift"/>
                    <table>
                        <tr>
                            <td>
                                <h:outputText value="#{lang.Date}:  "/>
                            </td>
                            <td>
                                <h:inputText value="#{workoutBean.tempWorkout.date}">
                                    <f:convertDateTime pattern="dd.MM.yyyy"/>
                                </h:inputText>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <h:outputText value ="#{lang.Category}:  "/>
                            </td>
                            <td>
                                <h:selectOneMenu value ="#{workoutBean.tempWorkout.category}">
                                    <f:selectItem  itemValue ="#{lang.Jogging}"/>
                                    <f:selectItem  itemValue ="#{lang.Strength}" />
                                    <f:selectItem  itemValue ="#{lang.Aerobics}"/>
                                    <f:selectItem  itemValue ="#{lang.Biking}" />
                                </h:selectOneMenu>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <h:outputText value="#{lang.Text}:  "/>
                            </td>
                            <td>
                                <h:inputText value="#{workoutBean.tempWorkout.text}">
                                </h:inputText>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <h:outputText value="#{lang.Duration}:  "/>
                            </td>
                            <td>
                                <h:inputText value="#{workoutBean.tempWorkout.duration}">
                                </h:inputText>
                            </td>
                        </tr>
                    </table>
                    <h:selectOneMenu value ="#{workoutBean.month}">
                        <f:selectItem  itemValue ="1" itemLabel="#{lang.January}"/>
                        <f:selectItem  itemValue ="2" itemLabel="#{lang.February}"/>
                        <f:selectItem  itemValue ="3" itemLabel="#{lang.March}"/>
                        <f:selectItem  itemValue ="4" itemLabel="#{lang.April}"/>
                        <f:selectItem  itemValue ="5" itemLabel="#{lang.May}"/>
                        <f:selectItem  itemValue ="6" itemLabel="#{lang.June}"/>
                        <f:selectItem  itemValue ="7" itemLabel="#{lang.July}"/>
                        <f:selectItem  itemValue ="8" itemLabel="#{lang.August}"/>
                        <f:selectItem  itemValue ="9" itemLabel="#{lang.September}"/>
                        <f:selectItem  itemValue ="10" itemLabel="#{lang.October}"/>
                        <f:selectItem  itemValue ="11" itemLabel="#{lang.November}"/>
                        <f:selectItem  itemValue ="12" itemLabel="#{lang.December}"/>
                    </h:selectOneMenu>
                    <h:dataTable value ="#{workoutBean.monthdata}" var="monthWorkout"
                                 styleClass="people" headerClass="hode"
                                 rowClasses="odd,even" footerClass="fot"
                                 rendered="#{workoutBean.dataMonthExist}">
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="#{lang.Date}"/>
                            </f:facet>
                            <h:outputText value="#{monthWorkout.workout.date}" >
                                <f:convertDateTime pattern="dd.MM.yyyy"/>
                            </h:outputText>
                        </h:column>
                        <!-- Kolonne: kategori -->
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="#{lang.Category}"/>
                            </f:facet>
                            <h:outputText value="#{monthWorkout.workout.category}" />
                        </h:column>
                        <!-- Kolonne: beskrivelse -->
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="#{lang.Text}"/>
                            </f:facet>
                            <h:outputText value="#{monthWorkout.workout.text}"/>
                        </h:column>

                        S
                        <!-- Kolonne: varighet -->
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="#{lang.Duration}"/>
                            </f:facet>
                            <h:outputText value="#{monthWorkout.workout.duration}"/>
                        </h:column>
                    </h:dataTable>
                    <p>
                        <h:commandButton value="#{lang.Update}" 
                                         action="#{workoutBean.change()}"/>

                        <h:commandButton value="#{lang.Send}" 
                                         action="#{workoutBean.add()}"/>

                        <h:commandButton value="#{lang.Delete}" 
                                         action="#{workoutBean.delete()}"/>

                        <h:commandButton value="#{lang.Month}" 
                                         action="#{workoutBean.workoutsMonth()}"/>

                        <h:commandButton action="#{workoutBean.logout()}" 
                                         value="#{lang.LogOut}" />
                    </p>
                </h:form>
            </ui:define>
        </ui:composition>
    </h:body>
</html>

